% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/construct_multi_layered_network.R
\name{construct_multi_layered_network}
\alias{construct_multi_layered_network}
\title{Multi-layered network construction}
\usage{
construct_multi_layered_network(
  gsea_results_file,
  microbe_pathway_file,
  pathway_jaccard_file,
  pathway_metabolite_file,
  output_directory
)
}
\arguments{
\item{gsea_results_file}{A character string specifying the path to the
GSEA results CSV file (e.g., from `construct_pathway_pathway_network`).
This file is crucial for defining the set of pathways to be included
in the multi-layered network. Must contain an 'ID' column for pathways.}

\item{microbe_pathway_file}{A character string specifying the path to the
Microbe-Pathway network CSV file (e.g., from `construct_microbe_pathway_network`).
Expected columns: 'TaxonID', 'FunctionID', 'relative_contribution'.
If the file is not found or invalid, this layer will be skipped.}

\item{pathway_jaccard_file}{A character string specifying the path to the
Pathway-Pathway Jaccard index CSV file (e.g., from `construct_pathway_pathway_network`).
Expected columns: 'FunctionID_1', 'FunctionID_2', 'jaccard_index'.
If the file is not found or invalid, this layer will be skipped.}

\item{pathway_metabolite_file}{A character string specifying the path to the
Pathway-Metabolite network CSV file (e.g., from `construct_pathway_metabolite_network`).
Expected columns: 'FunctionID', 'MetaboliteID', 'Correlation'.
If the file is not found or invalid, this layer will be skipped.}

\item{output_directory}{A character string specifying the path to the directory
where the final integrated multi-layered network CSV file will be saved.
The directory will be created if it does not exist.}
}
\value{
The function's primary output is a single CSV file
  saved to the specified `output_directory`, containing the combined and
  filtered edges from all integrated network layers.
}
\description{
This function integrates various network layers (Microbe-Pathway, Pathway-Pathway,
and Pathway-Metabolite) into a single comprehensive network. It uses GSEA
results as a central filter to ensure that only relevant pathways and their
associated connections are included in the final integrated network.
}
\details{
The function performs the following steps:
1. Creates an output directory for the combined network file.
2. Parses the GSEA results filename to identify a target group, which can
   influence the naming of the output file.
3. Loads the GSEA results file to identify a definitive set of pathways
   to be integrated across all layers.
4. Iteratively loads and processes each network layer (Microbe-Pathway,
   Pathway-Pathway, Pathway-Metabolite), filtering edges to include only
   connections involving the identified GSEA pathways.
5. Standardizes the column names for each layer's edges (Feature1, Feature2,
   Edge_Score, Edge_Type).
6. Combines all collected and filtered network edges into a single data frame.
7. Saves the final integrated multi-layered network to a CSV file in the
   specified output directory, with a filename dynamically generated based
   on the GSEA target group or a default 'overall' suffix.
}
